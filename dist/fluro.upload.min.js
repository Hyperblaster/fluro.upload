angular.module("fluro.upload",["fluro.config","angularFileUpload"]),angular.module("fluro.upload").factory("FluroUploader",function(FileUploader,$rootScope,CacheManager,Fluro){var controller={};return controller.UPLOAD_COMPLETE="upload.complete",controller.metaData={},controller.uploader=new FileUploader({url:Fluro.apiURL+"/file/replace",removeAfterUpload:!1,withCredentials:!0,formData:{}}),controller.uploader.onCompleteItem=function(){CacheManager.clear("image"),CacheManager.clear("asset"),CacheManager.clear("audio"),CacheManager.clear("video"),$rootScope.$broadcast(controller.UPLOAD_COMPLETE)},controller});